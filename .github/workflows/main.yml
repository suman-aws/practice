name: My Workflow

on: push

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Extract variables
      run: |
        output=$(python prepare_new_deployment.py)          
        IFS='=' read -ra arr <<< "$output"
        VAR1=$(echo "${arr[0]}" | tr -d '[],')
        VAR2=$(echo "${arr[1]}" | tr -d '[],')
        VAR3=$(echo "${arr[2]}" | tr -d '[],')
        VAR4=$(echo "${arr[3]}" | tr -d '[],')
        VAR5=$(echo "${arr[4]}" | tr -d '[],')
        VAR6=$(echo "${arr[5]}" | tr -d '[],')
        VAR7=$(echo "${arr[6]}" | tr -d '[],')
        VAR8="abc5.com"
        echo "VAR1=$VAR1" >> $GITHUB_ENV
        echo "VAR2=$VAR2" >> $GITHUB_ENV
        echo "VAR3=$VAR3" >> $GITHUB_ENV
        echo "VAR4=$VAR4" >> $GITHUB_ENV
        echo "VAR5=$VAR5" >> $GITHUB_ENV
        echo "VAR6=$VAR6" >> $GITHUB_ENV
        echo "VAR7=$VAR7" >> $GITHUB_ENV
        echo "VAR8=$VAR8" >> $GITHUB_ENV